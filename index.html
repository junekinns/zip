<!DOCTYPE html>
<html>
  <head>
    <title>Test</title>
    <meta charset="utf-8" />
    <script src="./kakao.js"></script>
  </head>

  <body>
    <script>
      const imgPath = 'p.png';
      Kakao.init("e94cc386c6fc9779dc9a471bd5e2a730");
      Kakao.Auth.login({
        success: function (response) {
          Kakao.API.request({
            url: "/v2/user/me",
            success: function (response) {
              let nickname = response["properties"]["nickname"];
              Kakao.Link.sendCustom({
                templateId: 48998,
                templateArgs: {
                  title: nickname + "님이 선물과 메세지를 보냈습니다.",
                  height: "450",
                  width: "600",
                  img_url: `https://github.com/rlawns324/gift/blob/main/imgs/${imgPath}?raw=true`,
                  btn_url1: "gift.kakao.com/product/728482?input_channel_id=2630",
                  btn_url2: "gift.kakao.com/product/2131660?input_channel_id=2630"
                },
              });
            },
            fail: function (error) {
              console.log(error);
            },
          });
        },
        fail: function (error) {
          console.log(error);
        },
      });
    </script>
  </body>
</html>
